(this.webpackJsonpreact_classworks=this.webpackJsonpreact_classworks||[]).push([[5],{34:function(t,e,n){"use strict";n.r(e);var r=n(43),a=n(37),c=n(38),o=n(40),i=n(39),u=n(41),s=n(0),l=n.n(s),f=n(8),p=function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(o.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(c)))).state={value:""},n.handleChange=function(t){n.setState({value:t.target.value})},n.handleSubmit=function(t){t.preventDefault(),(0,n.props.onSubmit)(n.state.value),n.setState({value:""})},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state.value;return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{value:t,onChange:this.handleChange}),l.a.createElement("button",{type:"submit"},"Search"))}}]),e}(s.Component),h=n(36),b=function(t){function e(){var t,n;Object(a.a)(this,e);for(var c=arguments.length,u=new Array(c),s=0;s<c;s++)u[s]=arguments[s];return(n=Object(o.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(u)))).state={movies:[],error:null},n.onSearch=function(t){h.c(t).then((function(e){n.setState({movies:e.data.results});var a=n.props,c=a.location;a.history.push(Object(r.a)({},c,{search:"query=".concat(t)}))})).catch((function(t){return n.setState({error:t.message})}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.location;if(t.search){var e=new URLSearchParams(t.search).get("query");this.onSearch(e)}}},{key:"render",value:function(){var t=this.state,e=t.movies,n=t.error,a=this.props,c=a.match,o=a.location;return l.a.createElement("div",null,l.a.createElement(p,{onSubmit:this.onSearch}),n&&l.a.createElement("p",null,"Something went wrong... Please try again!"),e.length>0&&l.a.createElement("ul",null,e.map((function(t){return l.a.createElement("li",{key:t.id},l.a.createElement(f.b,{to:{pathname:"".concat(c.url,"/").concat(t.id),state:{from:Object(r.a)({},o)}}},t.title))}))))}}]),e}(s.Component);e.default=b},36:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return h}));var r=n(42),a=n.n(r),c="https://api.themoviedb.org/3",o="e0c73a674fe9ac3d07ab423a32b0f862",i="https://image.tmdb.org/t/p/w200",u="https://image.tmdb.org/t/p/w300",s=function(){return a.a.get("".concat(c,"/trending/movie/day?api_key=").concat(o))},l=function(t){return a.a.get("".concat(c,"/search/movie?api_key=").concat(o,"&query=").concat(t))},f=function(t){return a.a.get("".concat(c,"/movie/").concat(t,"?api_key=").concat(o))},p=function(t){return a.a.get("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(o))},h=function(t){return a.a.get("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(o))}},43:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return c}))}}]);
//# sourceMappingURL=movie-page.93d1f9f4.chunk.js.map