{"version":3,"sources":["components/AdditionalInformation/AdditionalInformation.jsx","pages/MovieDetailsPage.jsx","services/movie_api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["AdditionalInformation","movieId","location","to","pathname","state","from","replace","MovieDetailsPage","movieDetails","onGoBack","props","history","goBack","push","match","this","API","params","then","res","setState","data","catch","err","Error","type","onClick","original_title","vote_average","overview","genres","length","map","genre","key","id","name","src","poster_path","alt","fallback","path","routes","CAST_PAGE","component","REVIEWS_PAGE","Component","BASE_URL","API_KEY","fetchMostPopularMovies","axios","get","fetchMovieByQuery","query","fetchDetailsAboutMovie","fetchMovieCast","fetchMovieReviews","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/movie-details-page.d87018f1.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport T from 'prop-types';\n\nconst AdditionalInformation = ({ movieId, location }) => (\n  <div>\n    <Link\n      to={{\n        pathname: `/movies/${movieId}/cast`,\n        state: { from: { ...location } },\n      }}\n      replace\n    >\n      Cast\n    </Link>\n    <br />\n    <Link\n      to={{\n        pathname: `/movies/${movieId}/reviews`,\n        state: { from: { ...location } },\n      }}\n      replace\n    >\n      Reviews\n    </Link>\n  </div>\n);\n\nAdditionalInformation.propTypes = {\n  movieId: T.string.isRequired,\n  location: T.shape({\n    state: T.shape({\n      from: T.shape({}),\n    }),\n  }).isRequired,\n};\n\nexport default AdditionalInformation;\n","import React, { Component, lazy, Suspense } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport T from 'prop-types';\nimport routes from '../routes/routes';\nimport AdditionalInformation from '../components/AdditionalInformation/AdditionalInformation';\nimport * as API from '../services/movie_api';\n\n// const AsyncCast = lazy(() =>\n//   import('./Cast' /* webpackChunkName: \"cast-page\" */),\n// );\n\n// const AsyncRewiews = lazy(() =>\n//   import('./Reviews' /* webpackChunkName: \"reviews-page\" */),\n// );\n\nclass MovieDetailsPage extends Component {\n  static propTypes = {\n    match: T.shape({\n      params: T.shape({\n        movieId: T.string,\n      }),\n    }).isRequired,\n    history: T.shape({\n      goBack: T.func,\n      push: T.func,\n    }).isRequired,\n    location: T.shape({\n      state: T.shape({\n        from: T.shape({}),\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movieDetails: null,\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    API.fetchDetailsAboutMovie(match.params.movieId)\n      .then(res => this.setState({ movieDetails: res.data }))\n      .catch(err => {\n        throw new Error(err);\n      });\n  }\n\n  onGoBack = () => {\n    const { history, location } = this.props;\n\n    if (location.state) {\n      history.goBack();\n      return;\n    }\n\n    history.push('/movies');\n  };\n\n  render() {\n    const { match, location } = this.props;\n    const { movieDetails } = this.state;\n\n    return (\n      <>\n        {movieDetails && (\n          <>\n            <button type=\"button\" onClick={this.onGoBack}>\n              Go back\n            </button>\n            <h2>{movieDetails.original_title}</h2>\n            <p>{`User score: ${movieDetails.vote_average}`}</p>\n            <h3>Overview</h3>\n            <p>{movieDetails.overview}</p>\n            <h4>Genres</h4>\n            {movieDetails.genres.length > 0 && (\n              <ul>\n                {movieDetails.genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            )}\n            <img\n              src={`https://image.tmdb.org/t/p/w300${movieDetails.poster_path}`}\n              alt={movieDetails.original_title}\n            />\n            <AdditionalInformation\n              movieId={match.params.movieId}\n              location={location}\n            />\n            <Suspense fallback={<h2>Loading...</h2>}>\n              <Switch>\n                <Route\n                  path={routes.CAST_PAGE.path}\n                  component={routes.CAST_PAGE.component}\n                />\n                <Route\n                  path={routes.REVIEWS_PAGE.path}\n                  component={routes.REVIEWS_PAGE.component}\n                />\n              </Switch>\n            </Suspense>\n          </>\n        )}\n      </>\n    );\n  }\n}\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'e0c73a674fe9ac3d07ab423a32b0f862';\n\nexport const fetchMostPopularMovies = () => {\n  return axios.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieByQuery = query => {\n  return axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`,\n  );\n};\n\nexport const fetchDetailsAboutMovie = id => {\n  return axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieCast = id => {\n  return axios.get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieReviews = id => {\n  return axios.get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}